<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <title>æµªæ¼«æ±‚å©šçµ¦ Winny</title>
  <style>
        body {
            margin: 0;
            padding: 0;
            background-color: black;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

    /* èƒŒæ™¯ç…§ç‰‡å®Œæ•´é¡¯ç¤º */
    #bg-img {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      object-fit: contain;
      background-color: black;
      z-index: -2;
    }

.content {
    position: absolute;
    color: white;
    font-family: "Microsoft JhengHei", sans-serif;
    text-align: center;
    top: 15%; /* æ–°å¢ï¼šæ•´å€‹å…§å®¹åä¸Šï¼Œå¯å¾®èª¿ç™¾åˆ†æ¯” */
    left: 50%;
    transform: translateX(-50%);
}

    h1 {
      font-size: clamp(20px, 8vw, 50px);
      font-weight: 900;
      text-shadow: 0 0 15px #ff69b4, 0 0 30px #ff1493;
      margin: 0 0 20px;
      white-space: nowrap;
      cursor: pointer;
    }

    .final-text {
      position: relative;
      font-size: clamp(20px, 6vw, 40px);
      white-space: nowrap;
      text-align: center;
      font-weight: bold;
      background: linear-gradient(90deg, #ff1493, #ff69b4, #ff1493, #ff69b4);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      padding: 10px 20px;
      border-radius: 15px;
      /* ç§»é™¤é‚Šæ¡†å’Œå…‰æ¨™ç·šï¼Œé¿å…å‡ºç¾ç™½/ç²‰ç´°ç·š */
      border: none;
      box-shadow: none;
      margin: 20px auto 0;
      display: inline-block;
      overflow: hidden;
    }

    .question {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 15px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      font-size: clamp(24px, 5.5vw, 30px);
      max-width: 70%;
      align-items: center;
      margin: 0 auto;
      z-index: 10;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    /* ä¿®æ­£ iPhone æŒ‰éˆ•é»æ“Šæ™‚çš„ç™½/ç²‰ç´°ç·š */
    button,
    #start-btn {
      padding: 10px 20px;
      font-size: clamp(14px, 3vw, 20px);
      border-radius: 10px;
      border: none;
      outline: none;
      -webkit-tap-highlight-color: transparent;
      cursor: pointer;
      background-color: rgba(139, 0, 84, 0.8);
      color: white;
      transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
    }

    #start-container {
      margin-top: 20px;
    }

    #start-btn {
      font-size: clamp(20px, 5vw, 28px);
      padding: 15px 30px;
      background-color: rgba(255, 20, 147, 0.8);
    }

    @media (hover: hover) {
      button:hover {
        background-color: rgba(255, 20, 147, 1);
        transform: scale(1.1);
        box-shadow: 0 0 10px rgba(255, 20, 147, 0.7);
      }
    }

    button.active {
      background-color: rgba(255, 20, 147, 1);
      transform: scale(1.1);
      box-shadow: 0 0 10px rgba(255, 20, 147, 0.7);
    }

    @keyframes heartbeat {
      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.1);
      }
    }

    #fireworks,
    #hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    /* æµªæ¼«å½ˆçª— */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s;
      z-index: 1000;
    }

    .overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .popup {
      background: white;
      color: black;
      border-radius: 20px;
      padding: 25px;
      width: 280px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      text-align: center;
      transform: scale(0.8);
      transition: transform 0.3s;
      animation: floatIn 0.4s ease;
      position: relative;
    }

    .overlay.show .popup {
      transform: scale(1);
    }

    .popup .heart {
      font-size: 40px;
      color: #ff3366;
      animation: heartbeat 1s infinite;
      margin-bottom: 10px;
    }

    .popup button {
      margin-top: 15px;
      padding: 8px 20px;
      border: none;
      border-radius: 12px;
      background: #ff3366;
      color: white;
      font-size: 16px;
      cursor: pointer;
      transition: 0.2s;
      outline: none;
      -webkit-tap-highlight-color: transparent;
    }

    .popup button:hover {
      background: #cc2952;
    }

    @keyframes floatIn {
      from {
        opacity: 0;
        transform: translateY(20px) scale(0.8);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
  </style>
</head>

<body>
  <img id="bg-img" src="https://raw.githubusercontent.com/dustinchen26/winny/refs/heads/master/01.JPG" alt="èƒŒæ™¯åœ–">

  <audio id="bgm" loop>
    <source src="https://raw.githubusercontent.com/dustinchen26/winny/refs/heads/master/output.mp3" type="audio/mpeg" />
  </audio>

  <div class="content">
    <h1>ğŸ’– Dustin å° Winny çš„æµªæ¼«å‘Šç™½ ğŸ’–</h1>
    <div id="start-container">
      <button id="start-btn">ğŸ’– é»æˆ‘é–‹å§‹ ğŸ’–</button>
    </div>
    <div class="question" id="quiz" style="display:none;"></div>
  </div>

  <canvas id="fireworks"></canvas>
  <canvas id="hearts"></canvas>

  <div class="overlay" id="overlay">
    <div class="popup">
      <div class="heart">â™¥</div>
      <p id="popupMessage">é€™æ˜¯å½ˆçª—è¨Šæ¯</p>
      <button onclick="closePopup()">çŸ¥é“äº† ğŸ’–</button>
    </div>
  </div>

  <script>
    const questions = [
      { q: "Winny æœ€æ„›çš„äººæ˜¯èª°ï¼Ÿ", options: [{ text: "éš”å£é„°å±…", wrongMsg: "ğŸ¤£ æ‰ä¸æ˜¯éš”å£é˜¿ä¼¯å•¦ï¼" }, { text: "å¶åƒæ˜æ˜Ÿ", wrongMsg: "è¿½æ˜Ÿå¯ä»¥ï¼Œä½†è€å…¬æ˜¯ Dustinï¼ğŸ’–" }, { text: "Dustin" }], answer: "Dustin" },
      { q: "æˆ‘å€‘ç¬¬ä¸€æ¬¡ç´„æœƒçš„æ„Ÿè¦ºæ˜¯ï¼Ÿ", options: [{ text: "ç„¡èŠ", wrongMsg: "ğŸ˜¡ ä½ èªªå•¥ï¼Ÿå†èªªä¸€æ¬¡è©¦è©¦ï¼" }, { text: "å¹³æ·¡", wrongMsg: "å“ªæœ‰ï½æ˜æ˜å¿ƒè·³åŠ é€Ÿï¼ğŸ’“" }, { text: "ç”œåˆ°çˆ†" }], answer: "ç”œåˆ°çˆ†" },
      { q: "å¦‚æœ Dustin æ±‚å©šï¼ŒWinny çš„ç­”æ¡ˆæ˜¯ï¼Ÿ", options: [{ text: "ä¸è¦", wrongMsg: "ğŸ˜­ ä¸è¡Œï¼ä¸€å®šè¦å«çµ¦æˆ‘ï¼" }, { text: "å†æƒ³æƒ³", wrongMsg: "å“¼ï½å†æƒ³æƒ³ï¼Ÿç¾åœ¨å°±ç­”æ‡‰ï¼ğŸ˜˜" }, { text: "å¥½å•Š â¤ï¸" }], answer: "å¥½å•Š â¤ï¸" }
    ];

    let current = 0;
    const quizDiv = document.getElementById("quiz");
    const startBtn = document.getElementById("start-btn");
    const startContainer = document.getElementById("start-container");
    const music = document.getElementById('bgm');

    startBtn.addEventListener('click', () => {
      music.play().catch(() => console.log("ç„¡æ³•è‡ªå‹•æ’­æ”¾"));
      startContainer.style.display = 'none';
      quizDiv.style.display = 'flex';
      loadQuestion();
    });

    function loadQuestion() {
      let q = questions[current];
      quizDiv.innerHTML = `<p>${q.q}</p><div class="options">` + q.options.map(opt => `<button>${opt.text}</button>`).join("") + `</div>`;
      quizDiv.querySelectorAll("button").forEach((btn, idx) => {
        btn.addEventListener("touchstart", () => btn.classList.add("active"));
        btn.addEventListener("touchend", () => { btn.classList.remove("active"); checkAnswer(q.options[idx]); });
        btn.addEventListener("click", () => checkAnswer(q.options[idx]));
      });
    }

    function checkAnswer(option) {
      if (option.text === questions[current].answer) {
        current++;
        if (current < questions.length) loadQuestion();
        else startFireworks();
      } else {
        showPopup(option.wrongMsg || "ç­”éŒ¯äº†å–”ï½å†è©¦ä¸€æ¬¡ï¼ğŸ’”");
      }
    }

    function showPopup(message) {
      document.getElementById("popupMessage").innerText = message;
      document.getElementById("overlay").classList.add("show");
    }

    function closePopup() {
      document.getElementById("overlay").classList.remove("show");
    }

    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    const heartCanvas = document.getElementById("hearts");
    const hctx = heartCanvas.getContext("2d");
    let fireworks = [], hearts = [];

    function random(min, max) { return Math.random() * (max - min) + min; }
    class Firework { constructor() { this.x = random(0, canvas.width); this.y = canvas.height; this.targetY = random(100, canvas.height / 2); this.color = `hsl(${random(0, 360)},100%,50%)`; this.exploded = false; this.life = 100; } update() { if (!this.exploded) { this.y -= 5; if (this.y <= this.targetY) this.explode(); } else this.life--; } draw() { ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, 3, 0, Math.PI * 2); ctx.fill(); } explode() { this.exploded = true; for (let i = 0; i < 50; i++) fireworks.push(new Particle(this.x, this.y, this.color)); } }
    class Particle { constructor(x, y, color) { this.x = x; this.y = y; this.color = color; this.speedX = random(-3, 3); this.speedY = random(-3, 3); this.life = 100; } update() { this.x += this.speedX; this.y += this.speedY; this.life--; } draw() { hctx.globalAlpha = this.life / 100; hctx.fillStyle = this.color; hctx.beginPath(); hctx.arc(this.x, this.y, 2, 0, Math.PI * 2); hctx.fill(); hctx.globalAlpha = 1; } }
    class Heart { constructor() { this.x = random(0, heartCanvas.width); this.y = random(-50, -10); this.size = random(10, 30); this.speedY = random(1, 3); this.color = `rgba(255,${Math.floor(random(100, 200))},${Math.floor(random(100, 200))},0.8)`; } update() { this.y += this.speedY; if (this.y > heartCanvas.height) { this.y = random(-50, -10); this.x = random(0, heartCanvas.width); } } draw() { hctx.fillStyle = this.color; hctx.beginPath(); hctx.moveTo(this.x, this.y); hctx.bezierCurveTo(this.x - this.size / 2, this.y - this.size / 2, this.x - this.size, this.y + this.size / 3, this.x, this.y + this.size); hctx.bezierCurveTo(this.x + this.size, this.y + this.size / 3, this.x + this.size / 2, this.y - this.size / 2, this.x, this.y); hctx.fill(); } }

    function typeAndAnimateText(text, element, speed = 150) {
      element.textContent = "";
      let i = 0;
      let typer = setInterval(() => {
        element.textContent += text[i];
        i++;
        if (i >= text.length) {
          clearInterval(typer);
          element.style.animation = "heartbeat 1s ease-in-out infinite"; // é–‹å§‹å¿ƒè·³
        }
      }, speed);
    }

    function startFireworks() {
      quizDiv.innerHTML = `<div class="final-text"></div>`;
      const finalTextEl = document.querySelector(".final-text");
      typeAndAnimateText("ğŸ’ Winnyï¼Œå«çµ¦æˆ‘å§ï¼ğŸ’", finalTextEl, 150);
      setInterval(() => fireworks.push(new Firework()), 500);
      for (let i = 0; i < 30; i++) hearts.push(new Heart());
      animate();
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      fireworks.forEach((f, i) => { f.update(); f.draw(); if (f.exploded && f.life <= 0) fireworks.splice(i, 1); });
      fireworks = fireworks.filter(f => f.life > 0 || !f.exploded);
      hctx.clearRect(0, 0, heartCanvas.width, heartCanvas.height);
      hearts.forEach(h => { h.update(); h.draw(); });
      requestAnimationFrame(animate);
    }

    function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; heartCanvas.width = window.innerWidth; heartCanvas.height = window.innerHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
  </script>
</body>

</html>
